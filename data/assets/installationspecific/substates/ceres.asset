local util = asset.require('./../utility_functions')

----------------------------------------------------------------
-- STATES
----------------------------------------------------------------
local ceresTargetDistance =  2.2E25;

local ceresState = {
  Identifier = "Ceres", 
  Enter = [[
    ]] .. util.setOrbitSpeedFactor(0.4) .. [[
    ]] .. util.orbitOnArrival() .. [[
  ]],
  Exit = [[
    ]] .. util.stopOrbiting() .. [[
  ]]
}

local ahunaMonsTargetDistance =  2.2E25;

local ahunaMonsState = {
  Identifier = "AhunaMons", 
  Enter = [[
    ]] .. util.setOrbitSpeedFactor(0.4) .. [[
    ]] .. util.orbitOnArrival() .. [[
  ]],
  Exit = [[
    ]] .. util.stopOrbiting() .. [[
  ]]
}

local states = { ceresState, ahunaMonsState }

----------------------------------------------------------------
-- TRANSITIONS within this substate
----------------------------------------------------------------
local transitions = {
  {
    From = "Ceres",
    To = "AhunaMons",
    Action = [[
    ]]
  },
  {
    From = "AhunaMons",
    To = "Ceres",
    Action = [[
      ]] .. util.disableLinearFlight() .. [[
      ]] .. util.setCurveTypeToZoomOverview() .. [[
      openspace.time.setPause(true)
      openspace.pathnavigation.goTo('Ceres', true)
      ]] .. util.changeAnchor('Ceres', 1) .. [[
    ]]
  }
}

asset.export("states", states)
asset.export("transitions", transitions)
