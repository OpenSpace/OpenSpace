local util = asset.require('./../utility_functions')
local flyHome = asset.require('./../fly_home_alternatives')

----------------------------------------------------------------
-- STATES
----------------------------------------------------------------
local universeState = {
  Identifier = "Universe",
  Enter = [[
    ]] .. util.setOrbitSpeedFactor(0.4) .. [[
    ]] .. util.startOrbiting() .. [[
    ]] .. util.orbitAroundUpOnArrival() .. [[
    openspace.setPropertyValueSingle("Scene.Jupiter.Renderable.Layers.ColorLayers.JupiterVideo.TileProvider.VideoPlayer.Play", nil)
  ]],
  Exit = [[
    openspace.setPropertyValue('{moonTrail_minor}.Renderable.Enabled', false);
    openspace.setPropertyValueSingle("Scene.Jupiter.Renderable.Layers.ColorLayers.JupiterVideo.TileProvider.VideoPlayer.Pause", nil)
    ]] .. util.stopOrbiting() .. [[
  ]]
}

local states = { universeState }

----------------------------------------------------------------
-- TRANSITIONS within this substate
----------------------------------------------------------------
local transitions = {
  -- Transition to/from this state
  {
    From = "Home",
    To = "Universe"
  },
  {
    From = "Universe",
    To = "CBR"
  },
  {
    From = "Universe",
    To = "Exoplanets"
  },
  {
    From = "CBR",
    To = "Universe"
  },
  {
    From = "Exoplanets",
    To = "Universe"
  },
  {
    From = "Universe",
    To = "Home"
  }
}

asset.export("states", states)
asset.export("transitions", transitions)
