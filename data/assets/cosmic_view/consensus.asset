-- Your personal path --
local path = "C:/MasterThesis_cosmicView"

-- Speck files --
local consensus_file = asset.localResource(path .. "/data/consensus/speck/primates_consensus_all_variables.speck")

-- Label files --
local consensus_label = asset.localResource(path .. "/data/consensus/label/primates_consensus_label.speck")

-- Color maps --
local color_mutations = asset.localResource(path .. "/data/consensus/cmap/redblue.cmap")
local color_lineage =  asset.localResource(path .. "/data/consensus/cmap/color_genus.cmap")

-- Texture files -- 
local consensus_texture = asset.localResource(path .. "/data/texture/point3A.png")

-- Scale factor --
local scale_factor = 10

local mutations_consensus = {
    Identifier = "mutations_consensus",
    Renderable = {
      Type = "RenderableCosmicPoints",
      Color = {  0.443,0.322,0.69 },
      Opacity = 1.0,
      ScaleFactor = scale_factor,
      File = consensus_file,
      ColorMap = color_mutations,
      ColorOption = { "synonymousDiff", "NonSynonymousDiff" },
      ColorRange = { { 0, 140}, { 0, 20} },
      DrawLabels = false,
      LabelFile = consensus_label,
      TextColor = { 1.0, 1.0, 1.0 },
      TextSize = 1.0,
      TextMinMaxSize = { 0, 14 },
      FadeLabelDistances = { 0.0, 0.5 },
      FadeLabelWidths = { 0.001, 0.5 },
      Unit = "Km",
      Texture = consensus_texture,
      BillboardMinMaxSize = { 0.0, 250.0 }, -- in pixels
      EnablePixelSizeControl = true,
      Enabled = false
    },
    GUI = {
      Name = "Mutations Consensus",
      Path = "/Cosmic/Consensus"
    }
  }

  local lineage_consensus = {
    Identifier = "lineage_consensus",
    Renderable = {
      Type = "RenderableCosmicPoints",
      Color = {  0.443,0.322,0.69 },
      Opacity = 1.0,
      ScaleFactor = scale_factor,
      File = consensus_file,
      ColorMap = color_lineage,
      ColorOption = { "lineage_17","lineage_18","lineage_19","lineage_20","lineage_21","lineage_22", "lineage_23" },
      ColorRange = { { 0.0, 1.0}, { 1.0, 2.0}, { 3.0, 7.0}, { 8, 18}, { 19.0, 51.0}, { 24.0, 62.0}, { 24.0, 89.0} },
      DrawLabels = false,
      LabelFile = consensus_label,
      TextColor = { 1.0, 1.0, 1.0 },
      TextSize = 1.0,
      TextMinMaxSize = { 0, 14 },
      FadeLabelDistances = { 0.0, 0.5 },
      FadeLabelWidths = { 0.001, 0.5 },
      Unit = "Km",
      Texture = consensus_texture,
      BillboardMinMaxSize = { 0.0, 250.0 }, -- in pixels
      EnablePixelSizeControl = true,
      Enabled = false
    },
    GUI = {
      Name = "Lineage Consensus",
      Path = "/Cosmic/Consensus"
    }
  }

  local primates_consensus = {
    Identifier = "primates_consensus",
    Renderable = {
      Type = "RenderableCosmicPoints",
      Color = {0.78, 0.843, 0.874 },
      Opacity = 1.0,
      ScaleFactor = scale_factor,
      File = consensus_file,
      DrawLabels = true,
      LabelFile = consensus_label,
      TextColor = { 1.0, 1.0, 1.0 },
      TextSize = 1.0,
      TextMinMaxSize = { 0, 14 },
      FadeLabelDistances = { 0.0, 0.5 },
      FadeLabelWidths = { 0.001, 0.5 },
      Unit = "Km",
      Texture = consensus_texture,
      BillboardMinMaxSize = { 0.0, 250.0 }, -- in pixels
      EnablePixelSizeControl = true,
      Enabled = false
    },
    GUI = {
      Name = "Primates Consensus",
      Path = "/Cosmic/Consensus"
    }
  }


  asset.onInitialize(function()
    openspace.addSceneGraphNode(mutations_consensus)
    openspace.addSceneGraphNode(lineage_consensus)
    openspace.addSceneGraphNode(primates_consensus)
    end)

asset.onDeinitialize(function()
    openspace.removeSceneGraphNode(mutations_consensus)
    openspace.removeSceneGraphNode(lineage_consensus)
    openspace.removeSceneGraphNode(primates_consensus)
end)

asset.export(mutations_consensus)
asset.export(lineage_consensus)
asset.export(primates_consensus)