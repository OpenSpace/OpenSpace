-- Your personal path --
local path = "C:/MasterThesis_cosmicView"

-- Speck files --
local mutations_file = asset.localResource(path .. "/data/mutations/speck/primates_mutations_file.speck")

-- Label files --
local mutations_label = asset.localResource(path .. "/data/mutations/label/primates_CommonName_label.speck")

-- Color map --
local color_map = asset.localResource(path .. "/data/mutations/cmap/yellowpurple.cmap")

-- Textire --
local mutations_texture = asset.localResource(path .. "/data/texture/point3A.png")



local Name = "Synonymous Mutations"
local Identifier = "mutations"

local mutations = {
    Identifier = "mutations",
    Renderable = {
      Type = "RenderableCosmicPoints",
      Color = { 0.4,1.0,1.0 },
      Opacity = 1.0,
      ScaleFactor = 15,
      File = mutations_file,
      ColorMap = color_map,
      ColorOption = { "synonymousDiff", "NonSynonymousDiff" },
      ColorRange = { { 0, 140}, { 0, 20} },
      DrawLabels = false,
      LabelFile = mutations_label,
      TextColor = { 1.0, 1.0, 1.0 },
      TextSize = 1.0,
      TextMinMaxSize = { 0, 14 },
      FadeLabelDistances = { 0.0, 0.5 },
      FadeLabelWidths = { 0.001, 0.5 },
      Unit = "Km",
      Texture = mutations_texture,
      BillboardMinMaxSize = { 0.0, 250.0 }, -- in pixels
      EnablePixelSizeControl = true,
      Enabled = false
    },
    GUI = {
      Name = "Mutation points",
      Path = "/Cosmic/Mutations"
    }
  }


  -- colorbar to understand the colors for synonynmous mutations
  local colorbar = {
    Identifier = Identifier,
    Name = Name,
    Type = "ScreenSpaceImageLocal",
    TexturePath = asset.localResource(path .. "/data/mutations/Synonymous_mutations.png"),
    FaceCamera = false,
    CartesianPosition = { 1.2, -0.6, -2.0 }
  }


asset.onInitialize(function()
openspace.addSceneGraphNode(mutations)
--openspace.addScreenSpaceRenderable(colorbar);  
end)

asset.onDeinitialize(function()
openspace.removeSceneGraphNode(mutations)
--openspace.removeScreenSpaceRenderable(colorbar)
end)

asset.export(mutations)
--asset.export(colorbar)