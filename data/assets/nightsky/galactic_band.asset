local transforms = asset.require("scene/solarsystem/sun/transforms")

local band = {
    Identifier = "GalacticBand",
    Parent = transforms.SolarSystemBarycenter.Name,
    Transform = {
        Scale = {
          Type = "StaticScale",
          Scale = 9.46377307652E18;
        }
    },
    Renderable = {
        Type = "RenderableRadialGrid",
        Opacity = 0.8,
        Color = { 1.0, 1.0, 1.0 },
        LineWidth = 3.0,
        GridSegments = { 1, 1 },
        Radii = { 0.5, 0.5 },
        Enabled = asset.enabled
    },
    GUI = {
        Name = "Galactic Band",
        Path = "/Other/Lines"
    }
}

local showAction = {
  Identifier = "os.nightsky.show_galactic_band",
  Name = "Show galactic band",
  Command = [[
    openspace.setPropertyValueSingle('Scene.GalacticBand.Renderable.Fade', 0.0);
    openspace.setPropertyValueSingle('Scene.GalacticBand.Renderable.Enabled', true);
    openspace.setPropertyValueSingle('Scene.GalacticBand.Renderable.Fade', 1.0, 1.0);
  ]],
  Documentation = "Shows the galactic band",
  GuiPath = "/Night Sky/Lines and Grids",
  IsLocal = false
}
  
local hideAction = {
  Identifier = "os.nightsky.hide_galactic_band",
  Name = "Hide galactic band",
  Command = [[
    openspace.setPropertyValueSingle('Scene.GalacticBand.Renderable.Fade', 0.0, 1.0);
  ]],
  Documentation = "Hides the galactic band",
  GuiPath = "/Night Sky/Lines and Grids",
  IsLocal = false
}

asset.onInitialize(function()
  openspace.addSceneGraphNode(band)
  openspace.action.registerAction(showAction)
  openspace.action.registerAction(hideAction)
end)
  
asset.onDeinitialize(function()
  openspace.action.removeAction(hideAction)
  openspace.action.removeAction(showAction)
  openspace.removeSceneGraphNode(band)
end)
  
asset.export(band)
asset.export(showAction)
asset.export(hideAction)
