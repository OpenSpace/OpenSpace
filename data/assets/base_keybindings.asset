asset.require("./base")
local trailAction = asset.require("actions/trails/toggle_trails_planets_moons").ToggleTrails
local allTrailsAction = asset.require("actions/trails/toggle_all_trails").ToggleTrails



local TogglePlanetLabels = {
  Identifier = "os_default.TogglePlanetLabels",
  Name = "Toggle planet labels",
  Command = [[
    local list = openspace.property("{solarsystem_labels}.Renderable.Enabled")
    for _,v in pairs(list) do
      openspace.setPropertyValueSingle(v, not openspace.propertyValue(v))
    end
  ]],
  Documentation = "Turns on visibility for all solar system labels",
  GuiPath = "/Solar System",
  IsLocal = false
}

asset.onInitialize(function()
  openspace.action.registerAction(TogglePlanetLabels)
  openspace.bindKey("L", TogglePlanetLabels.Identifier)

  openspace.bindKey("H", trailAction)
  openspace.bindKey("SHIFT+H", allTrailsAction)
end)

asset.onDeinitialize(function()
  openspace.clearKey("SHIFT+H")
  openspace.clearKey("H")

  openspace.action.removeAction(TogglePlanetLabels)
  openspace.clearKey("L")
end)

asset.export("TogglePlanetLabels", TogglePlanetLabels.Identifier)
