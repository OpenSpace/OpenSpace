local transforms = asset.require("./transforms_magnetosphere")
local transferFunction = asset.localResource("./CMR-illuminance2.txt")

local cutplane = {
  Identifier = "Cutplane",
  Parent = transforms.GSMReferenceFrame.Identifier,
  InteractionSphere = 6380000,  -- A value slightly bigger than earth radius
  Renderable = {
    Type = "RenderableCutPlane",
    Size = 2* 6371000,
    Origin = "Center",
    --Billboard = true,
    --ScaleToMeter = 2 * 6371000,
    FilePath = "C:/Users/kjjohnst/Documents/GAMERAdata/openSpace.eb3.h5",
    --FilePath = "C:/Users/aemolin/Documents/GAMERAdata/dirCP/openSpace.eb3.h5",
  --  MultiplyColor = { 1, 1, 0 },
    -- ColorTablePaths = {transferFunction},
    Axis = 'x',
    CutValue = 5.0,
    DataProperty = "Bx", -- !!!!!!!!!!!!!!!!!!!!!!
   -- BlendMode = "Normal",
   -- MirrorBackside = true,
   MultiplyColor = { 1, 1, 0 },
    ColorTablePaths=  {transferFunction},
    
  },
  GUI = {
    Path = "/Solar System/Planets/Earth",
    Name = "Cutplane"
  },
}

asset.onInitialize(function()
  openspace.addSceneGraphNode(cutplane)
end)

asset.onDeinitialize(function()
  openspace.removeSceneGraphNode(cutplane)
end)

asset.export(cutplane)
