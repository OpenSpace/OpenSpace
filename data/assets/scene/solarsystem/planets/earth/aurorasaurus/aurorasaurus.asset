local earth = asset.require("scene/solarsystem/planets/earth/earth")

local imagePath = asset.resource("aurora_test_images/")

local AuroraTest1 = {
  Identifier = "AuroraTest1",
  Parent = earth.Earth.Identifier,
  TimeFrame = {
    Type = "TimeFrameInterval",
    Start = "2023 MAR 23 10:40:00.183",
    End = "2023 MAR 23 23:55:00.183"
  },
  Transform = {
    Translation = {
      Type = "GlobeTranslation",
      Globe = earth.Earth.Identifier,
      Latitude = 44.64994157711501,
      Longitude = -85.80489170906777,
      Altitude = 100000,
      UseHeightmap = false
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageOnline",
    Size = 75000,
    Origin = "Center",
    Billboard = true,
    URL = "https://aurprod.s3.amazonaws.com/media/web-observation-pics/media/web-observation-pics/webobservation-9475-small-2023-04-01172600001680369927922-581BBE50-5D35-4DA5-A5A6-246A873B3D23-20230401172630.jpeg"
  },
  GUI = {
    Path = "/AuroraTest",
    Name = "Test aurora image1"
  }
}

local AuroraTest3 = {
  Identifier = "AuroraTest3",
  Parent = earth.Earth.Identifier,
  TimeFrame = {
    Type = "TimeFrameInterval",
    Start = "2023 MAR 23 10:40:00.183",
    End = "2023 MAR 23 23:55:00.183"
  },
  Transform = {
    Translation = {
      Type = "GlobeTranslation",
      Globe = earth.Earth.Identifier,
      Latitude = 41.64994157711501,
      Longitude = -87.80489170906777,
      Altitude = 100000,
      UseHeightmap = false
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageOnline",
    Size = 75000,
    Origin = "Center",
    Billboard = true,
    URL = "https://aurprod.s3.amazonaws.com/media/web-observation-pics/media/web-observation-pics/webobservation-9421-small-2023-03-24030400001679627012789-Screenshot_2023-03-23_22.03.25-20230324030400.png"
  },
  GUI = {
    Path = "/AuroraTest",
    Name = "Test aurora image3"
  }
}

local AuroraTest4 = {
  Identifier = "AuroraTest4",
  Parent = earth.Earth.Identifier,
  TimeFrame = {
    Type = "TimeFrameInterval",
    Start = "2023 MAR 23 10:40:00.183",
    End = "2023 MAR 23 23:55:00.183"
  },
  Transform = {
    Translation = {
      Type = "GlobeTranslation",
      Globe = earth.Earth.Identifier,
      Latitude = 40.64994157711501,
      Longitude = -83.80489170906777,
      Altitude = 100000,
      UseHeightmap = false
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageOnline",
    Size = 75000,
    Origin = "Center",
    Billboard = true,
    URL = "https://aurprod.s3.amazonaws.com/media/web-observation-pics/media/web-observation-pics/webobservation-9849-small-2023-07-08194300001688845379491-JAS_2021-20230708194342.jpg"
  },
  GUI = {
    Path = "/AuroraTest",
    Name = "Test aurora image4"
  }
}

local AuroraTest5 = {
  Identifier = "AuroraTest5",
  Parent = earth.Earth.Identifier,
  TimeFrame = {
    Type = "TimeFrameInterval",
    Start = "2023 MAR 23 10:40:00.183",
    End = "2023 MAR 23 23:55:00.183"
  },
  Transform = {
    Translation = {
      Type = "GlobeTranslation",
      Globe = earth.Earth.Identifier,
      Latitude = 49.64994157711501,
      Longitude = -82.80489170906777,
      Altitude = 100000,
      UseHeightmap = false
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageOnline",
    Size = 75000,
    Origin = "Center",
    Billboard = true,
    URL = "https://aurprod.s3.amazonaws.com/media/web-observation-pics/media/web-observation-pics/webobservation-11538-small-2024-03-03013000001709429413644-2-20240303013023.jpg"
  },
  GUI = {
    Path = "/AuroraTest",
    Name = "Test aurora image5"
  }
}

local AuroraTest6 = {
  Identifier = "AuroraTest6",
  Parent = earth.Earth.Identifier,
  TimeFrame = {
    Type = "TimeFrameInterval",
    Start = "2023 MAR 23 10:40:00.183",
    End = "2023 MAR 23 23:55:00.183"
  },
  Transform = {
    Translation = {
      Type = "GlobeTranslation",
      Globe = earth.Earth.Identifier,
      Latitude = 49.64994157711501,
      Longitude = -80.30489170906777,
      Altitude = 100000,
      UseHeightmap = false
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageOnline",
    Size = 75000,
    Origin = "Center",
    Billboard = true,
    URL = "https://aurprod.s3.amazonaws.com/media/web-observation-pics/webobservation-11538-full-2024-03-0301%3A30%2B0000.png"
  },
  GUI = {
    Path = "/AuroraTest",
    Name = "Test aurora image6"
  }
}

asset.onInitialize(function()
  openspace.addSceneGraphNode(AuroraTest1)

  openspace.addSceneGraphNode(AuroraTest3)
  openspace.addSceneGraphNode(AuroraTest4)
  openspace.addSceneGraphNode(AuroraTest5)
  openspace.addSceneGraphNode(AuroraTest6)


end)

asset.onDeinitialize(function()
  openspace.removeSceneGraphNode(AuroraTest1)

  openspace.removeSceneGraphNode(AuroraTest3)
  openspace.removeSceneGraphNode(AuroraTest4)
  openspace.removeSceneGraphNode(AuroraTest5)
  openspace.removeSceneGraphNode(AuroraTest6)


end)

asset.export(AuroraTest1)

asset.export(AuroraTest3)
asset.export(AuroraTest4)
asset.export(AuroraTest5)
asset.export(AuroraTest6)






















--[[ local lfs = require("luafilesystem-master/lfs")

local function hasExtension(file, ext)
    return file:sub(-#ext) == ext
end

local path = asset.resource("aurora_test_images")

local auroraTests = {}
local index = 0

for file in lfs.dir(path) do
    if file ~= "." and file ~= ".." then
        local filePath = path .. '/' .. file
        local attr = lfs.attributes(filePath)
        if attr.mode == "file" then 
            if hasExtension(file, ".jpg") or hasExtension(file, ".png") then
                local key = "auroraTest" .. index

                auroraTests[key] = {
                    Identifier = "auroraTest",
                    Parent = earth.Earth.Identifier,
                    Transform = {
                      Translation = {
                        Type = "GlobeTranslation",
                        Globe = earth.Earth.Identifier,
                        Latitude = 58.611366 + index,
                        Longitude = 15.545025 + index,
                        Altitude = 150000,
                        UseHeightmap = false
                      }
                    },
                    Renderable = {
                      Type = "RenderablePlaneImageLocal",
                      Size = 50000,
                      Origin = "Center",
                      Billboard = true,
                      Texture = file,
                      Opacity = 1.0,
                      AutoScale = true
                    },
                    GUI = {
                      Path = "/AuroraTest",
                      Name = "Test aurora image"
                    }
                }
                index = index + 1
            end
        end
    end
end ]]