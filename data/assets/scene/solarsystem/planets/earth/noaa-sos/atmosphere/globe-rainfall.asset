local globeIdentifier = asset.require("./../../earth").Earth.Identifier


local Name = "Solar Rainfall - Monthly (NASA)"
local Identifier = "noaa-sos-atmosphere-globe-rainfall"
local Description = [[ Globally, rain is the main source of fresh water for plants and animals rainfall is essential for life across Earth’s landscapes. In addition to moving tremendous amounts of water through Earth’s atmosphere, rain clouds also move tremendous amounts of energy. When water evaporates from the surface and rises as vapor into the atmosphere, it carries heat from the sun-warmed surface with it. Later, when the water vapor condenses to form cloud droplets and rain, the heat is released into the atmosphere. This heating is a major part of Earth's energy budget and climate. ]]
local URL = "https://sos.noaa.gov/catalog/datasets/rainfall-monthly-nasa/"


local syncedDirectory = asset.syncedResource({
	Name = Name,
	Type = "HttpSynchronization",
	Identifier = Identifier,
	Version = 1
})

local syncedDirectory_addons = asset.syncedResource({
	Name = Name .. " (Addons)",
	Type = "HttpSynchronization",
	Identifier = Identifier .. "-addons",
	Version = 1
})

local layer = {
  Identifier = Identifier,
  Name = Name,
  Type = "TemporalTileLayer",
  Folder = {
    Folder = syncedDirectory,
    -- See https://en.cppreference.com/w/cpp/io/manip/get_time for an explanation of the
    -- time formatting string
    Format = "TRMM_3B43M_%Y-%m.PNG"
  },   
  Description = Description
}

asset.onInitialize(function () 
  openspace.globebrowsing.addLayer(globeIdentifier, "ColorLayers", layer)
end)


asset.meta = {
  Name = Name,
  Version = "1.0",
  Description = Description .. "Data provided by the National Oceanic and Atmospheric Administration.",
  Author = "National Oceanic and Atmospheric Administration",
  URL = URL,
  License = "https://sos.noaa.gov/copyright/"
}
