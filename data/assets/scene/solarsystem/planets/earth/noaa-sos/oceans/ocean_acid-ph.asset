local globeIdentifier = asset.require("./../../earth").Earth.Identifier


local Name = "Ocean Acidification: Surface pH"
local Identifier = "noaa-sos-oceans-ocean_acid-ph"
local Description = [[ Ranging from 0 to 14, pH is a scale that describes the acid and base properties of a solution. The ocean's surface has an average pH of around 8.1, which is slightly basic. The pH of the open ocean is relatively stable in both time and space; however, the uptake of CO2 by the ocean has caused measurable changes in seawater. The imagery here shows the output of a computer model that makes predictions of how the pH will change over time based on best estimates of likely CO2 emissions (RCP 8.5) used in the United Nations Intergovernmental Panel on Climate Change's AR5 assessment. The dataset starts in 1861 and runs through 2100 ]]
local URL = "https://sos.noaa.gov/catalog/datasets/ocean-acidification-surface-ph/"


local syncedDirectory = asset.syncedResource({
	Name = Name,
	Type = "HttpSynchronization",
	Identifier = Identifier,
	Version = 1
})

local syncedDirectory_addons = asset.syncedResource({
	Name = Name .. " (Addons)",
	Type = "HttpSynchronization",
	Identifier = Identifier .. "-addons",
	Version = 1
})

local layer = {
  Identifier = Identifier,
  Name = Name,
  Type = "TemporalTileLayer",
  Mode = "Folder",
  Folder = {
    Folder = syncedDirectory,
    -- See https://en.cppreference.com/w/cpp/io/manip/get_time for an explanation of the
    -- time formatting string
    Format = "ACID.yearly.%Y.color.png"
  },
  Description = Description
}

asset.onInitialize(function() 
  openspace.globebrowsing.addLayer(globeIdentifier, "ColorLayers", layer)
end)

asset.onDeinitialize(function()
  openspace.globebrowsing.deleteLayer(globeIdentifier, "ColorLayers", layer.Identifier)
end)


asset.meta = {
  Name = Name,
  Version = "1.0",
  Description = Description .. "Data provided by the National Oceanic and Atmospheric Administration.",
  Author = "National Oceanic and Atmospheric Administration",
  URL = URL,
  License = "https://sos.noaa.gov/copyright/"
}
