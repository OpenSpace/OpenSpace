local jupiterTransforms = asset.require('scene/solarsystem/planets/jupiter/transforms')
local kernels = asset.require('./kernels')


local Juice = {
  Identifier = "Juice",
  Parent = jupiterTransforms.JupiterBarycenter.Identifier,
  Transform = {
    Translation = {
      Type = "SpiceTranslation",
      Target = "JUICE",
      Observer = "JUPITER BARYCENTER",
      Kernels = kernels.Kernels
    },
    Rotation = {
      Type = "SpiceRotation",
      SourceFrame = "JUICE_SPACECRAFT",
      DestinationFrame = "GALACTIC",
      Kernels = kernels.Kernels
    },
  },
  GUI = {
    Name = "Juice",
    Path = "/Solar System/Missions/Juice"
  }
}

local GanymedeBarycenter = {
  Identifier = "GanymedeBarycenter",
  Parent = jupiterTransforms.JupiterBarycenter.Identifier,
  Transform = {
    Translation = {
      Type = "SpiceTranslation",
      Target = "GANYMEDE",
      Observer = "JUPITER BARYCENTER",
      Kernels = kernels.Kernels
    }
  },
  GUI = {
    Path = "/Solar System/Planets/Jupiter/Moons"
  }
}

local GPHIO = {
  Identifier = "GPHIO",
  Parent = GanymedeBarycenter.Identifier,
  Transform = {
    Rotation = {
      Type = "SpiceRotation",
      SourceFrame = "GPHIO",
      DestinationFrame = "GALACTIC",
      Kernels = kernels.Kernels
    }
  },
  GUI = {
    Name = "GPHIO",
    Path = "/Solar System/Missions/Juice"
  }
}


asset.onInitialize(function()
  openspace.addSceneGraphNode(Juice)
  openspace.addSceneGraphNode(GanymedeBarycenter)
  openspace.addSceneGraphNode(GPHIO)
end)

asset.onDeinitialize(function()
  openspace.removeSceneGraphNode(GPHIO)
  openspace.removeSceneGraphNode(GanymedeBarycenter)
  openspace.removeSceneGraphNode(Juice)
end)

asset.export(Juice)
asset.export(GanymedeBarycenter)
asset.export(GPHIO)
