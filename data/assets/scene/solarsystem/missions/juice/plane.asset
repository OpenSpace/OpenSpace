local transforms = asset.require('./transforms')

-- Datasets created using the script found at:
-- https://github.com/OpenSpace/scripts/tree/master/juice-gphio-image-conversion
local data = asset.syncedResource({
  Type = "HttpSynchronization",
  Name = "Ganymede Plane Simulations",
  Identifier = "juice_ganymede_plane_cuts",
  Version = 1
})


local GanymedeRadius = 2634 * 1000
-- Size value from the original dataset provided by Ronan
local Size = 4.114 * GanymedeRadius

local xy_n = {
  Identifier = "Ganymede_Plane_XY_N",
  Parent = transforms.GPHIO.Identifier,
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XY-n.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XY Plane N",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xy_t = {
  Identifier = "Ganymede_Plane_XY_T",
  Parent = transforms.GPHIO.Identifier,
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XY-T.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XY Plane T",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xy_u = {
  Identifier = "Ganymede_Plane_XY_U",
  Parent = transforms.GPHIO.Identifier,
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XY-U.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XY Plane U",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xy_utot = {
  Identifier = "Ganymede_Plane_XY_Utot",
  Parent = transforms.GPHIO.Identifier,
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XY-Utot.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XY Plane U_tot",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xy_ux = {
  Identifier = "Ganymede_Plane_XY_Ux",
  Parent = transforms.GPHIO.Identifier,
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XY-Ux.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XY Plane Ux",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xy_uy = {
  Identifier = "Ganymede_Plane_XY_Uy",
  Parent = transforms.GPHIO.Identifier,
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XY-Uy.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XY Plane Uy",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xy_uz = {
  Identifier = "Ganymede_Plane_XY_Uz",
  Parent = transforms.GPHIO.Identifier,
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XY-Uz.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XY Plane Uz",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xz_n = {
  Identifier = "Ganymede_Plane_XZ_N",
  Parent = transforms.GPHIO.Identifier,
  Transform = {
    Rotation = {
      Type = "StaticRotation",
      Rotation = { -math.pi/2, 0.0, 0.0 }
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XZ-n.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XZ Plane N",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xz_t = {
  Identifier = "Ganymede_Plane_XZ_T",
  Parent = transforms.GPHIO.Identifier,
  Transform = {
    Rotation = {
      Type = "StaticRotation",
      Rotation = { -math.pi/2, 0.0, 0.0 }
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XZ-T.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XZ Plane T",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xz_u = {
  Identifier = "Ganymede_Plane_XZ_U",
  Parent = transforms.GPHIO.Identifier,
  Transform = {
    Rotation = {
      Type = "StaticRotation",
      Rotation = { -math.pi/2, 0.0, 0.0 }
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XZ-U.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XZ Plane U",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xz_utot = {
  Identifier = "Ganymede_Plane_XZ_Utot",
  Parent = transforms.GPHIO.Identifier,
  Transform = {
    Rotation = {
      Type = "StaticRotation",
      Rotation = { -math.pi/2, 0.0, 0.0 }
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XZ-Utot.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XZ Plane U_tot",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xz_ux = {
  Identifier = "Ganymede_Plane_XZ_Ux",
  Parent = transforms.GPHIO.Identifier,
  Transform = {
    Rotation = {
      Type = "StaticRotation",
      Rotation = { -math.pi/2, 0.0, 0.0 }
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XZ-Ux.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XZ Plane Ux",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xz_uy = {
  Identifier = "Ganymede_Plane_XZ_Uy",
  Parent = transforms.GPHIO.Identifier,
  Transform = {
    Rotation = {
      Type = "StaticRotation",
      Rotation = { -math.pi/2, 0.0, 0.0 }
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XZ-Uy.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XZ Plane Uy",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}

local xz_uz = {
  Identifier = "Ganymede_Plane_XZ_Uz",
  Parent = transforms.GPHIO.Identifier,
  Transform = {
    Rotation = {
      Type = "StaticRotation",
      Rotation = { -math.pi/2, 0.0, 0.0 }
    }
  },
  Renderable = {
    Type = "RenderablePlaneImageLocal",
    Size = Size,
    Texture = data .. "XZ-Uz.png",
    Enabled = false
  },
  GUI = {
    Name = "Ganymede XZ Plane Uz",
    Path = "/Solar System/Missions/Juice/Plane"
  }
}


asset.onInitialize(function()
  openspace.addSceneGraphNode(xy_n)
  openspace.addSceneGraphNode(xy_t)
  openspace.addSceneGraphNode(xy_u)
  openspace.addSceneGraphNode(xy_utot)
  openspace.addSceneGraphNode(xy_ux)
  openspace.addSceneGraphNode(xy_uy)
  openspace.addSceneGraphNode(xy_uz)

  openspace.addSceneGraphNode(xz_n)
  openspace.addSceneGraphNode(xz_t)
  openspace.addSceneGraphNode(xz_u)
  openspace.addSceneGraphNode(xz_utot)
  openspace.addSceneGraphNode(xz_ux)
  openspace.addSceneGraphNode(xz_uy)
  openspace.addSceneGraphNode(xz_uz)
end)

asset.onDeinitialize(function()
  openspace.removeSceneGraphNode(xz_uz)
  openspace.removeSceneGraphNode(xz_uy)
  openspace.removeSceneGraphNode(xz_ux)
  openspace.removeSceneGraphNode(xz_utot)
  openspace.removeSceneGraphNode(xz_u)
  openspace.removeSceneGraphNode(xz_t)
  openspace.removeSceneGraphNode(xz_n)

  openspace.removeSceneGraphNode(xy_uz)
  openspace.removeSceneGraphNode(xy_uy)
  openspace.removeSceneGraphNode(xy_ux)
  openspace.removeSceneGraphNode(xy_utot)
  openspace.removeSceneGraphNode(xy_u)
  openspace.removeSceneGraphNode(xy_t)
  openspace.removeSceneGraphNode(xy_n)
end)
