local assetHelper = asset.require('util/asset_helper')
local transforms = asset.require('./transforms')
local sunTransforms = asset.require('scene/solarsystem/sun/transforms')
local models = asset.require('./models').models

local BENNU_BODY = "2101955"

local Bennu = {
  Identifier = "Bennu",
  Parent = transforms.BennuBarycenter.Identifier,
  Transform = {
    Rotation = {
      Type = "SpiceRotation",
      SourceFrame = "IAU_BENNU",
      DestinationFrame = "GALACTIC"
    },
    Scale = {
      Type = "StaticScale",
      Scale = 1000.0
    }
  },
  Renderable = {
    Enabled = false,
    Type = "RenderableModel",
    Body = BENNU_BODY,
    GeometryFile = models .. "/Bennu_v20_200k.stl",
  },
  GUI = {
    Path = "/Solar System/Asteroid"
  }
}

local BennuTrail = {
  Identifier = "BennuTrail",
  Parent = sunTransforms.SolarSystemBarycenter.Identifier,
  Renderable = {
    Type = "RenderableTrailTrajectory",
    Translation = {
      Type = "SpiceTranslation",
      Target = BENNU_BODY,
      Observer = "SUN"
    },
    Color = { 0.4, 0.0, 0.7 },
    StartTime = "2015 JAN 01 00:00:00.000",
    EndTime = "2023 MAY 31 00:00:00.000",
    SampleInterval = 3600
  },
  GUI = {
    Name = "Bennu Trail",
    Path = "/Solar System/Asteroid"
  }
}

assetHelper.registerSceneGraphNodesAndExport(asset, { Bennu, BennuTrail })
