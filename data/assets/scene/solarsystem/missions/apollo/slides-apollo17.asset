local helper = asset.require('util/slide_deck_helper')
local deckL = nil
local deckR = nil

-- images from https://www.lroc.asu.edu/featured_sites/view_site/1
local slides = asset.syncedResource({
    Name = "Apollo slides",
    Type = "HttpSynchronization",
    Identifier = "apollo_slideshows",
    Version = 1
})

asset.onInitialize(function ()
    deckL = helper.createDeck("slides-apollo17-left", {
        FlatScreen = false,
        SphericalPosition = {3.14159, 2.244},
        Scale = 0.70
    })

    helper.addSlide(deckL, slides .. "/apollo_17/A17-1-Over1.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-2-Over.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-3-LEM-Earth.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-4-CernanFlagEarth.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-5-alsep1_.png")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-6-alsep2.png")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-7-Challenger.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-8-LadderPLaque.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-9-LadderPlaqueCLOSE.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-10-TLBase.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-11-CernanRover2.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-11-RoverCernan.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-12-RoverJack.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-13-map-fender1.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-14-fender_repair_01_NASM.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-15-map-fender-NASM.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-16-approachS2.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-17-S2-rover2.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-18-S2-Earth.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-19-S2-Nansen-boulders.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-20-S2-Nansen-boulders2.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-21-Nansen-boulders3.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-22-S2-small-sampledRock.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-23-Shorty1.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-24-Shorty2.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-25-Shorty-Orange-soil.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-26-roverCOFFEE.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-27-CernanInside1.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-28-CernanBadHair.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-29-SchmittInside.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-30-Suits.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-31-RoverJunk.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-32-S6.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-33-S6-Boulder-close.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-34a-JackRover.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-34-S6-rover-slope.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-35-S6-boulderSplit.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-36-S6-slope.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-37-S6-BoulderUpView.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-38-S6-sample.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-39-S6-up.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-40-S6map.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-41-long.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-42-rover_at_final_resting_site.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-43-LastViewGeophoneRk.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-44-ChallengerReticle.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-45-ChallengerAscentStage.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/A17-46-ChallengerGENEthruWin.jpg")

    helper.addSlide(deckL, slides .. "/apollo_17/M117291316L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M101963963R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M101956806L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M101949648R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M165645700LR.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M134991788L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M134985003LR.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M104318871R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M104311715R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M168000580R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M106690695R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M109032389L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M172717297R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M129086118LR.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M113758461R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M113751661LR.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M162107606L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M131447374L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/M116113215R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_17/legend.PNG")

    deckR = helper.createDeck("slides-apollo17-right", {
        FlatScreen = false,
        SphericalPosition = {-0.12, 2.208},
        Scale = 0.70
    })

    helper.addSlide(deckR, slides .. "/apollo_17/A17-1-Over1.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-2-Over.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-3-LEM-Earth.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-4-CernanFlagEarth.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-5-alsep1_.png")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-6-alsep2.png")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-7-Challenger.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-8-LadderPLaque.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-9-LadderPlaqueCLOSE.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-10-TLBase.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-11-CernanRover2.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-11-RoverCernan.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-12-RoverJack.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-13-map-fender1.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-14-fender_repair_01_NASM.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-15-map-fender-NASM.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-16-approachS2.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-17-S2-rover2.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-18-S2-Earth.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-19-S2-Nansen-boulders.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-20-S2-Nansen-boulders2.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-21-Nansen-boulders3.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-22-S2-small-sampledRock.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-23-Shorty1.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-24-Shorty2.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-25-Shorty-Orange-soil.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-26-roverCOFFEE.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-27-CernanInside1.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-28-CernanBadHair.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-29-SchmittInside.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-30-Suits.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-31-RoverJunk.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-32-S6.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-33-S6-Boulder-close.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-34a-JackRover.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-34-S6-rover-slope.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-35-S6-boulderSplit.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-36-S6-slope.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-37-S6-BoulderUpView.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-38-S6-sample.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-39-S6-up.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-40-S6map.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-41-long.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-42-rover_at_final_resting_site.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-43-LastViewGeophoneRk.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-44-ChallengerReticle.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-45-ChallengerAscentStage.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/A17-46-ChallengerGENEthruWin.jpg")

    helper.addSlide(deckR, slides .. "/apollo_17/M117291316L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M101963963R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M101956806L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M101949648R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M165645700LR.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M134991788L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M134985003LR.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M104318871R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M104311715R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M168000580R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M106690695R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M109032389L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M172717297R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M129086118LR.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M113758461R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M113751661LR.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M162107606L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M131447374L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/M116113215R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_17/legend.PNG")

    local interpolationDuration = 0

    function nextSlide()
        helper.goToNextSlide(deckL, interpolationDuration)
        helper.goToNextSlide(deckR, interpolationDuration)
    end

    function previousSlide()
        helper.goToPreviousSlide(deckL, interpolationDuration)
        helper.goToPreviousSlide(deckR, interpolationDuration)
    end

    helper.setCurrentSlide(deckL, 1)
    helper.setCurrentSlide(deckR, 1)
    openspace.bindKey("RIGHT", "nextSlide()")
    openspace.bindKey("LEFT", "previousSlide()")

end)


asset.onDeinitialize(function()
    openspace.clearKey("RIGHT")
    openspace.clearKey("LEFT")
    helper.removeDeck(deckL)
    helper.removeDeck(deckR)
end)