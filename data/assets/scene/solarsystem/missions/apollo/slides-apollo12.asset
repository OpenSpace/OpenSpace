local helper = asset.require('util/slide_deck_helper')
local deckL = nil
local deckR = nil

-- images from https://www.lroc.asu.edu/featured_sites/view_site/1
local slides = asset.syncedResource({
    Name = "Apollo slides",
    Type = "HttpSynchronization",
    Identifier = "apollo_slideshows",
    Version = 1
})

asset.onInitialize(function ()
    deckL = helper.createDeck("slides-apollo12-left", {
        FlatScreen = false,
        SphericalPosition = {3.14159, 2.244},
        Scale = 0.70
    })



    helper.addSlide(deckL, slides .. "/apollo_12/A12-1-Conrad-door.jpg")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-2-LEM-Surveyor.jpg")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-3-Plutonium-2.jpg")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-4-plutonium-1.png")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-5-ALSEP-haul.png")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-6-ALSEP.png")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-7-shadow-selfies.jpg")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-8-Surveyor-shadow.jpg")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-9-Surveyor-1.png")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-10-Surveyor-LEM.jpg")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-11-Surveyor-Bean.jpg")
    helper.addSlide(deckL, slides .. "/apollo_12/A12-12-Surveyor-camera.jpg")

    helper.addSlide(deckL, slides .."/apollo_12/M148319683R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M132983773R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M117650516R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M165998991R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M135338254R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M120012135R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M120005333R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M104662862R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M168353795LR.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M137699517L.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M107035386R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M140060558L.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M140053756L.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M124728623L.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M109386083R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M157750563L.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M142415059R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M175428601R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M144775952L.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M114104917R.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M177785917LR.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/M162466771L.jpg")
    helper.addSlide(deckL, slides .."/apollo_12/legend.PNG")

    deckR = helper.createDeck("slides-apollo12-right", {
        FlatScreen = false,
        SphericalPosition = {-0.12, 2.208},
        Scale = 0.70
    })

    

    helper.addSlide(deckR, slides .. "/apollo_12/A12-1-Conrad-door.jpg")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-2-LEM-Surveyor.jpg")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-3-Plutonium-2.jpg")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-4-plutonium-1.png")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-5-ALSEP-haul.png")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-6-ALSEP.png")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-7-shadow-selfies.jpg")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-8-Surveyor-shadow.jpg")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-9-Surveyor-1.png")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-10-Surveyor-LEM.jpg")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-11-Surveyor-Bean.jpg")
    helper.addSlide(deckR, slides .. "/apollo_12/A12-12-Surveyor-camera.jpg")


    helper.addSlide(deckR, slides .."/apollo_12/M148319683R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M132983773R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M117650516R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M165998991R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M135338254R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M120012135R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M120005333R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M104662862R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M168353795LR.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M137699517L.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M107035386R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M140060558L.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M140053756L.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M124728623L.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M109386083R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M157750563L.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M142415059R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M175428601R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M144775952L.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M114104917R.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M177785917LR.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/M162466771L.jpg")
    helper.addSlide(deckR, slides .."/apollo_12/legend.PNG")

    local interpolationDuration = 0

    function nextSlide()
        helper.goToNextSlide(deckL, interpolationDuration)
        helper.goToNextSlide(deckR, interpolationDuration)
    end

    function previousSlide()
        helper.goToPreviousSlide(deckL, interpolationDuration)
        helper.goToPreviousSlide(deckR, interpolationDuration)
    end

    helper.setCurrentSlide(deckL, 1)
    helper.setCurrentSlide(deckR, 1)
    openspace.bindKey("RIGHT", "nextSlide()")
    openspace.bindKey("LEFT", "previousSlide()")

end)


asset.onDeinitialize(function()
    openspace.clearKey("RIGHT")
    openspace.clearKey("LEFT")
    helper.removeDeck(deckL)
    helper.removeDeck(deckR)
end)