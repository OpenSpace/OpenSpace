local helper = asset.require('util/slide_deck_helper')
local deckL = nil
local deckR = nil

-- images from https://www.lroc.asu.edu/featured_sites/view_site/1
local slides = asset.syncedResource({
    Name = "Apollo slides",
    Type = "HttpSynchronization",
    Identifier = "apollo_slideshows",
    Version = 1
})

asset.onInitialize(function ()
    deckL = helper.createDeck("slides-apollo11-left", {
        FlatScreen = false,
        SphericalPosition = {3.14159, 2.244},
        Scale = 0.70
    })

  

    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-earth-1.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-earth-2.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-earth-3-SIV-B.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-earth-4.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-earth-5.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-earth-6.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-n-buzz.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-neil.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-probe.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aaa-TLI-qearth-over-eagle.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aab-Neil-1.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aab-Neil-2.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11aab-Neil-selfie.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11a-ABuzz-micromet.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11a-Buzz-inside.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11a-flag.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11a-ZBuzz-ALSEP.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/A11a-Zearth-LEM.jpg") 
    
    helper.addSlide(deckL, slides .. "/apollo_11/M132678405R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M117338434R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M102014464R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M102000149R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M150368601R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M150361817R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M135032851L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M119699983R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M119693197R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M122054682R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M106719774L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M170409762L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M139755141R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M109080308R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M111443315R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M175124932R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M129133239R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M113799518R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M177481212R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M162154734R.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M131494509L.jpg")
    helper.addSlide(deckL, slides .. "/apollo_11/M116161085R.jpg")
    


    deckR = helper.createDeck("slides-apollo11-right", {
        FlatScreen = false,
        SphericalPosition = {-0.12, 2.208},
        Scale = 0.70
    })

   
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-earth-1.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-earth-2.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-earth-3-SIV-B.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-earth-4.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-earth-5.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-earth-6.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-n-buzz.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-neil.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-probe.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aaa-TLI-qearth-over-eagle.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aab-Neil-1.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aab-Neil-2.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11aab-Neil-selfie.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11a-ABuzz-micromet.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11a-Buzz-inside.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11a-flag.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11a-ZBuzz-ALSEP.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/A11a-Zearth-LEM.jpg") 

    helper.addSlide(deckR, slides .. "/apollo_11/M132678405R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M117338434R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M102014464R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M102000149R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M150368601R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M150361817R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M135032851L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M119699983R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M119693197R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M122054682R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M106719774L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M170409762L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M139755141R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M109080308R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M111443315R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M175124932R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M129133239R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M113799518R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M177481212R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M162154734R.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M131494509L.jpg")
    helper.addSlide(deckR, slides .. "/apollo_11/M116161085R.jpg")


    local interpolationDuration = 0

    function nextSlide()
        helper.goToNextSlide(deckL, interpolationDuration)
        helper.goToNextSlide(deckR, interpolationDuration)
    end

    function previousSlide()
        helper.goToPreviousSlide(deckL, interpolationDuration)
        helper.goToPreviousSlide(deckR, interpolationDuration)
    end

    helper.setCurrentSlide(deckL, 1)
    helper.setCurrentSlide(deckR, 1)
    openspace.bindKey("RIGHT", "nextSlide()")
    openspace.bindKey("LEFT", "previousSlide()")

end)


asset.onDeinitialize(function()
    openspace.clearKey("RIGHT")
    openspace.clearKey("LEFT")
    helper.removeDeck(deckL)
    helper.removeDeck(deckR)
end)