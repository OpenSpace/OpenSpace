local globeIdentifier = asset.require("scene/solarsystem/planets/earth/earth.asset").Earth.Identifier
local climateBasePath = openspace.absPath('${BASE}/../OpenSpaceData/Earth/Climate')

local layer = {
    Identifier = "ERA5_Land_HighRes_Monthly_2M_Temperature_Temporal",
    Name = "ERA5 Land HighRes Monthly 2M Temperature (Temporal)",
    Type = "TemporalTileLayer",
    FilePath = 
    "<OpenSpaceTemporalGDALDataset>" ..
        "<OpenSpaceTimeStart>1981-01-01</OpenSpaceTimeStart>" ..
        "<OpenSpaceTimeEnd>2020-11-01</OpenSpaceTimeEnd>" ..
        "<OpenSpaceTimeResolution>1M</OpenSpaceTimeResolution>" ..
        "<OpenSpaceTimeIdFormat>YYYY-MM-DD</OpenSpaceTimeIdFormat>" ..
		"<OpenSpaceTransferFunction>" .. climateBasePath .. "/era5/land_monthly_means/temperature/rainbow.png</OpenSpaceTransferFunction>" ..
		"<OpenSpaceTimeInterpolation>linear</OpenSpaceTimeInterpolation>" ..
		"<FilePath>" .. climateBasePath .. "/era5/land_monthly_means/temperature/png/${OpenSpaceTimeId}-land.png</FilePath>" ..
        "</OpenSpaceTemporalGDALDataset>",
    Description = [[ Temporal coverage: 01 Jan 1981 - 31 Dec 2020.]]
}

asset.onInitialize(function () 
    openspace.globebrowsing.addLayer(globeIdentifier, "ColorLayers", layer)
end)
asset.export("layer", layer)
asset.meta = {
    Name = "Climate Earth Layers",
    Version = "1.0",
    Description = [[ ERA5 data ]],
    Author = "OpenSpace Team",
    URL = "http://openspaceproject.com",
    License = "MIT license"
}