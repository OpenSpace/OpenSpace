-- Basic
-- Creates a video plane located in 3D space that plays a video file. The dimensions of
-- the plane are automatically set to match the aspect ratio of the video.

-- The video file is here downloaded from a URL to a location on our servers. This
-- returns the path to a folder where the file is stored after download
local data = asset.resource({
  Name = "Example Video",
  Type = "UrlSynchronization",
  Identifier = "example_video",
  Url = "https://liu-se.cdn.openspaceproject.com/files/examples/video/chlorophyll_model_2048.mp4"
})

-- For a local file, use "asset.resource("path/to/local/video.mp4")" here instead
local video = data .. "chlorophyll_model_2048.mp4"

local Node = {
  Identifier = "RenderableVideoPlane_Example",
  Renderable = {
    Type = "RenderableVideoPlane",
    MirrorBackside = true, -- Make the plane render the video on both sides
    Video = video
  },
  GUI = {
    Name = "RenderableVideoPlane - Basic",
    Path = "/Examples"
  }
}

asset.onInitialize(function()
  openspace.addSceneGraphNode(Node)
end)

asset.onDeinitialize(function()
  openspace.removeSceneGraphNode(Node)
end)

